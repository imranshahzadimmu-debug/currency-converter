<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Live Currency Converter</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    font-family: Arial, sans-serif;
    background: #f4f6f8;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}
.converter {
    background: #fff;
    padding: 20px;
    width: 320px;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}
h2 { text-align: center; }
input, select, button {
    width: 100%;
    padding: 10px;
    margin-top: 10px;
}
button {
    background: #007bff;
    color: white;
    border: none;
    cursor: pointer;
}
button:hover { background: #0056b3; }
.result {
    margin-top: 15px;
    font-weight: bold;
    text-align: center;
}
</style>
</head>

<body>

<div class="converter">
    <h2>Live Currency Converter</h2>

    <input type="number" id="amount" placeholder="Enter amount" />

    <select id="fromCurrency"></select>
    <select id="toCurrency"></select>

    <button onclick="convertCurrency()">Convert</button>
    <div class="result" id="result"></div>
</div>

<script>
const API_URL = "https://open.er-api.com/v6/latest/USD";

// Currency names (important fix)
const currencyNames = {
  USD:"United States Dollar", EUR:"Euro", INR:"Indian Rupee", GBP:"British Pound",
  AUD:"Australian Dollar", CAD:"Canadian Dollar", JPY:"Japanese Yen",
  CNY:"Chinese Yuan", CHF:"Swiss Franc", AED:"UAE Dirham",
  NZD:"New Zealand Dollar", ZAR:"South African Rand",
  SGD:"Singapore Dollar", HKD:"Hong Kong Dollar", KRW:"South Korean Won",
  THB:"Thai Baht", IDR:"Indonesian Rupiah", MYR:"Malaysian Ringgit",
  PHP:"Philippine Peso", PKR:"Pakistani Rupee", BDT:"Bangladeshi Taka",
  LKR:"Sri Lankan Rupee", NPR:"Nepalese Rupee", RUB:"Russian Ruble",
  SAR:"Saudi Riyal", QAR:"Qatari Riyal", KWD:"Kuwaiti Dinar",
  BHD:"Bahraini Dinar", OMR:"Omani Rial", EGP:"Egyptian Pound",
  TRY:"Turkish Lira", BRL:"Brazilian Real", MXN:"Mexican Peso"
};

const fromCurrency = document.getElementById("fromCurrency");
const toCurrency = document.getElementById("toCurrency");

let rates = {};

async function loadCurrencies() {
    try {
        const res = await fetch(API_URL);
        const data = await res.json();

        rates = data.rates;

        for (const code in rates) {
            const option1 = document.createElement("option");
            option1.value = code;
            option1.text = `${code} - ${currencyNames[code] || "Currency"}`;

            const option2 = option1.cloneNode(true);

            fromCurrency.appendChild(option1);
            toCurrency.appendChild(option2);
        }

        fromCurrency.value = "USD";
        toCurrency.value = "INR";

    } catch (e) {
        document.getElementById("result").innerText =
            "‚ùå Failed to load currencies";
        console.error(e);
    }
}

function convertCurrency() {
    const amount = document.getElementById("amount").value;
    if (!amount || amount <= 0) {
        alert("Enter valid amount");
        return;
    }

    const from = fromCurrency.value;
    const to = toCurrency.value;

    const rate = rates[to] / rates[from];
    const result = (amount * rate).toFixed(2);

    document.getElementById("result").innerText =
        `${amount} ${from} = ${result} ${to}`;
}

loadCurrencies();
</script>

</body>
</html>
